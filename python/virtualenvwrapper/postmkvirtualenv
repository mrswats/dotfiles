#!/bin/zsh
# This hook is sourced after a new virtualenv is activated.


if [[ -z $LOCALVENV && $PWD =~ $HOME/rp ]]; then
    pip install -e . -r requirements/flake8.txt --pre \
        ipdb pdbpp\
        pep8-naming\
        flake8-breakpoint\
        flake8-mutable\
        flake8-variables-names\
        flake8-bugbear

    pip install pycodestyle flake8 --upgrade

    [ ! -f .git/hooks/pre-commit ] && flake8 --install-hook=git
fi
