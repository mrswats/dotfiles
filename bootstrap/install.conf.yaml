---
- create:
    - ~/.config/
    - ~/.config/alacritty/
    - ~/.config/nvim/
    - ~/.config/git/

- link:
    ~/.isort.cfg:
      path: python/isort.cfg
    ~/.tmux.conf:
      path: tmux/tmux.conf
    ~/.zshenv:
      path: zsh/zshenv
    ~/.zshrc:
      path: zsh/zshrc
    ~/.config/alacritty/:
      path: alacritty/alacritty.yml
    ~/.config/flake8-black:
      path: python/black-config.toml
    ~/.config/git/config:
      path: git/gitconfig
    ~/.config/nvim/init.lua:
      path: nvim/init.lua
    ~/.config/nvim/lua/:
      path: nvim/lua/
    ~/.config/i3/config:
      if: "[ $(uname) = Linux ]"
      path: i3/config
    ~/.config/rofi:
      if: "[ $(uname) = Linux ]"
      path: rof

- shell:
    - command: |
        [[ $(uname) =~ Darwin ]] && \
          /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
    - command: |
        [[ $(command -v brew) ]] && xargs brew install < ./bootstrap/brewfile
    - command: |
        [[ $(command -v dnf) ]] && xargs dnf install < ./bootstrap/dnf.list
    - command: |
        chsh -s $(which zsh)
    - command: |
        [[ $(commadn -v pipx) ]] && \
        xargs pipx install < ./bootstrap/pipx.list
    - command: |
        curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
    - command: |
        [[ $(command -v cargo) ]] && \
        xargs cargo install < ./bootstrap/cargo.list
    - command: |
        npm -i g yarn
    - command: |
        xargs yarn global add --prefix ~/.local/ < ./bootstrap/yarn.list
